# –ü–æ—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–¥–∞—á–∏: 
# –°–æ–∑–¥–∞—Ç—å –±–æ—Ç–∞, –∫–æ—Ç–æ—Ä—ã–π –∏–∑ —Å–æ–æ–±—â–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –æ–ø—Ä–æ—Å. 
# –ü–µ—Ä–≤–∞—è —Å—Ç—Ä–æ–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è - –≤–æ–ø—Ä–æ—Å,
# 2 - 11 —Å—Ç—Ä–æ–∫–∏ - –≤–∞—Ä–∏–∞–Ω—Ç—ã –æ—Ç–≤–µ—Ç–æ–≤. –ï—Å–ª–∏ —Å–æ–æ–±—â–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –º–µ–Ω–µ–µ 3 —Å—Ç—Ä–æ–∫ –∏–ª–∏ –±–æ–ª–µ–µ 11,
# —Ç–æ –≤—ã–≤–æ–¥–∏—Ç—å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ. 
import telebot,random

with open('token_8gr.txt') as f:
    TOKEN = f.read() # –¢—É—Ç –º—ã –ø–æ–º–µ—â–∞–µ–º —Ç–æ–∫–µ–Ω –≤ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—É
my_bot = telebot.TeleBot(TOKEN)

#–ü–æ–ª—É—á–µ–Ω–∏–µ –ª—é–±–æ–≥–æ –¥—Ä—É–≥–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è
@my_bot.message_handler(content_types=['text', 'photo', 'sticker'])
def handle_message(message):
    #–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–∫–∏
    try:
        #–û—Ç–≤–µ—Ç –Ω–∞ —Ç–µ–∫—Å—Ç–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
        if message.text:
            #–ü—Ä–æ–≤–µ—Ä—è–µ–º –æ—à–∏–±–∫—É –ø–µ—Ä–µ–¥–∞—á–∏ –≥–µ–æ–ª–æ–∫–∞—Ü–∏–∏
            if message.text == "–û—Ç–ø—Ä–∞–≤–∏—Ç—å üó∫Ô∏è":
                my_bot.reply_to(message, "–í–∞—à –±—Ä–∞—É–∑–µ—Ä –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –ø–µ—Ä–µ–¥–∞—á—É –≥–µ–æ–ª–æ–∫–∞—Ü–∏–∏", reply_markup=telebot.types.ReplyKeyboardRemove())
            #–ü—Ä–æ–≤–µ—Ä—è–µ–º –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É—é—Ç –ª–∏ –ø–µ—Ä–µ–Ω–æ—Å—ã –≤ —Å–æ–æ–±—â–µ–Ω–∏–∏. –ï—Å–ª–∏ –Ω–µ—Ç –ø—Ä–æ—Å—Ç–æ –ø–æ–≤—Ç–æ—Ä—è–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ
            elif message.text.count("\n") > 0:
                #–ü—Ä–æ–≤–µ—Ä—è–µ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç—Ä–æ–∫. –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ —É–±–∏—Ä–∞–µ–º –ø—É—Å—Ç—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã.
                if len(list(filter(None, message.text.split('\n')))) in range(3,12):
                    #–†–∞–∑–±–∏–≤–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –Ω–∞ —Å—Ç—Ä–æ–∫–∏ –∏ —Å–æ–∑–¥–∞–µ–º —Å–ø–∏—Å–æ–∫. –£–¥–∞–ª—è–µ–º –ø—É—Å—Ç—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã, –µ—Å–ª–∏ –æ–Ω–∏ –±—ã–ª–∏.
                    msg_line = list(filter(None, message.text.split('\n')))
                    que = msg_line[0]
                    ans = msg_line[1:]
                    #–û—Ç–ø—Ä–∞–≤–ª—è–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ —Å –æ–ø—Ä–æ—Å–æ–º. –ü–µ—Ä–≤–∞—è —Å—Ç—Ä–æ–∫–∞ - –≤–æ–ø—Ä–æ—Å, –æ—Å—Ç–∞–ª—å–Ω—ã–µ —Å—Ç—Ä–æ–∫–∏ - –≤–∞—Ä–∏–∞–Ω—Ç—ã –æ—Ç–≤–µ—Ç–æ–≤.
                    my_bot.send_poll(message.chat.id, que, ans)
                else:
                    my_bot.reply_to(message, "–î–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –æ–ø—Ä–æ—Å–∞ –≤ –í–∞—à–µ–º —Å–æ–æ–±—â–µ–Ω–∏–∏ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –æ—Ç 3 –¥–æ 11 —Å—Ç—Ä–æ–∫.\n–ü–µ—Ä–≤–∞—è —Å—Ç—Ä–æ–∫–∞ - –≤–æ–ø—Ä–æ—Å, –æ—Å—Ç–∞–ª—å–Ω—ã–µ —Å—Ç—Ä–æ–∫–∏ - –≤–∞—Ä–∏–∞–Ω—Ç—ã –æ—Ç–≤–µ—Ç–æ–≤.", reply_markup=telebot.types.ReplyKeyboardRemove())
            else:
                my_bot.reply_to(message, message.text, reply_markup=telebot.types.ReplyKeyboardRemove())
    
        #–û—Ç–≤–µ—Ç –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
        if message.photo:
            my_bot.send_message(message.chat.id, "–í—ã –ø—Ä–∏—Å–ª–∞–ª–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ", reply_markup=telebot.types.ReplyKeyboardRemove())
    
        #–û—Ç–≤–µ—Ç –Ω–∞ —Å—Ç–∏–∫–µ—Ä
        if message.sticker:
            my_bot.send_message(message.chat.id, message.sticker, reply_markup=telebot.types.ReplyKeyboardRemove())

    except Exception:
        my_bot.send_message(message.chat.id, "–û—à–∏–±–∫–∞ –≤–≤–æ–¥–∞ –¥–∞–Ω–Ω—ã—Ö", reply_markup=telebot.types.ReplyKeyboardRemove())
my_bot.polling(non_stop=True, interval=0)